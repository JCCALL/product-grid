(this["webpackJsonpproduct-grid"]=this["webpackJsonpproduct-grid"]||[]).push([[0],{22:function(e,t,a){e.exports=a(52)},27:function(e,t,a){},28:function(e,t,a){},46:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),i=a.n(l),c=(a(27),a(8)),o=a(9),u=a(11),s=a(10),m=(a(28),a(7)),d=a.n(m),p=function(){return d.a.get("/api/products/")},h=function(e){return d.a.post("/api/products/new",e)},E=function(e){return d.a.delete("/api/products/"+e)},f=a(21),g=a(6),b=(a(46),a(5)),v=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).closeModal=function(){return n.setState({show:!1})},n.handleShow=function(){return n.setState({show:!0})},n.refreshPage=function(){window.location.reload(!1)},n.state={inputTitle:"",inputDescription:"",inputQuantity:0,inputPrice:0,inputImage:"",show:!1},n.handleInputChange=n.handleInputChange.bind(Object(g.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState(Object(f.a)({},e.target.name,t))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={title:this.state.inputTitle,description:this.state.inputDescription,quantity:this.state.inputQuantity,price:this.state.inputPrice,image:this.state.inputImage},n=this.state.show;h(a,n).then((function(e){console.log(e),t.setState({show:!1}),t.refreshPage()}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{type:"button",id:"create-product",className:"btn btn-primary btn-sm",onClick:this.handleShow},"Create"),r.a.createElement(b.a,{show:this.state.show,onHide:this.closeModal,"aria-labelledby":"ModalHeader"},r.a.createElement(b.a.Header,{className:"modal-header",closeButton:!0},r.a.createElement(b.a.Title,{id:"ModalHeader"},"Add New Product")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(b.a.Body,{className:"modal-body"},r.a.createElement("div",{className:"row mr-1"},r.a.createElement("div",{className:"col-md-6 form-line"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputTitle"},"Product Name",r.a.createElement("input",{type:"text",id:"inputTitle",className:"form-control",name:"inputTitle",placeholder:"Enter Title",value:this.state.inputTitle,onChange:this.handleInputChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputDescription"},"Description",r.a.createElement("input",{type:"text",id:"inputDescription",className:"form-control",name:"inputDescription",placeholder:"Enter Description",value:this.state.inputDescription,onChange:this.handleInputChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputImage"},"Image"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"inputImage",className:"form-control",name:"inputImage",placeholder:"URL",value:this.state.inputImage,onChange:this.handleInputChange}))),r.a.createElement("div",{className:"col-md-6 form-line mb-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-sm-6 form-padding-right"},r.a.createElement("label",{htmlFor:"inputQuantity"},"Quantity",r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"inputQuantity",className:"form-control",name:"inputQuantity",value:this.state.inputQuantity,onChange:this.handleInputChange})),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"inputPrice"},"Price"),r.a.createElement("input",{type:"text",id:"inputPrice",className:"form-control",name:"inputPrice",value:this.state.inputPrice,onChange:this.handleInputChange}))))))),r.a.createElement(b.a.Footer,{className:"modal-footer"},r.a.createElement("input",{onClick:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(n.Component);a(50);var y=function(e){return r.a.createElement("span",Object.assign({id:"delete-product"},e,{role:"button",tabIndex:"0",className:"btn btn-danger btn-sm"}),"X")},N=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).loadProducts=function(){p().then((function(e){var t=e.data.map((function(e){return{image:e.image,title:e.title,description:e.description,quantity:e.quantity,price:e.price,id:e.id}}));n.setState({product:t})}))},n.deleteProduct=function(e){console.log(e),E(e).then((function(e){return n.loadProducts()})).catch((function(e){return console.log(e)}))},n.onSortChange=function(){var e,t=n.state.currentSort;"down"===t?e="up":"up"===t?e="default":"default"===t&&(e="down"),n.setState({currentSort:e})},n.state={product:[],currentSort:"default"},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"render",value:function(){var e=this;this.props.data,this.state.currentSort;return r.a.createElement("div",{className:" container main my-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement("h3",null,"Products")),r.a.createElement("div",{className:"col-4 float-right"},r.a.createElement(v,null))),r.a.createElement("div",{className:"row"},r.a.createElement("table",{id:"pGrid",className:"table table-striped"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Product Name"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},r.a.createElement("button",{onClick:this.onSortChange},"Price")),r.a.createElement("th",{scope:"col"},"DELETE"))),r.a.createElement("tbody",null,this.state.product.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,r.a.createElement("img",{src:t.image,alt:"productImage"})),r.a.createElement("td",{className:"title"},t.title),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,"$",t.price),r.a.createElement("td",null,r.a.createElement(y,{onClick:function(){return e.deleteProduct(t.id)}})))}))))))}}]),a}(n.Component);a(51);var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.b8235d9a.chunk.js.map